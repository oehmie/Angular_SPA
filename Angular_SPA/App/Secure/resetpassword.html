<div ng-controller="resetpasswordController">
    <div class="page-header">
        <h1>{{ title }}</h1>
    </div>
    <div class="row">
        <iframe src="formpost.html" name="formpost"
                style="display:none"></iframe>
        <p class="col-lg-12">Sie sind dem Link zum Zurücksetzen des Passwortes gefolgt. Geben Sie nun Ihre Emailadresse und ein neues Passwort an.</p>
        <form name="resetpasswortForm" class="col-lg-4" role="form"
              method="post"
              target="formpost" action="formpost.html"
              ng-submit="resetpassword(resetpasswortForm)"
              form-autofill-fix
              novalidate>
            <div class="form-group"
                 ng-class="{ 'has-error' : resetpasswortForm.email.$invalid && resetpasswortForm.email.$dirty }">
                <label for="email">Emailadresse</label>
                <input name="email" type="email"
                       class="form-control" placeholder="Emailadresse"
                       ng-model="email"
                       autofocus required>
                <p class="help-block"
                   ng-show="resetpasswortForm.email.$error.required && resetpasswortForm.email.$dirty">
                    Das Feld Email muss gefüllt sein.
                </p>
            </div>
            <div class="form-group"
             ng-class="{ 'has-error' : resetpasswortForm.password.$invalid && resetpasswortForm.password.$dirty }">
            <label for="password">Passwort</label>
            <input name="password" type="password"
                   class="form-control" placeholder="Password"
                   ng-model="password"
                   required ng-minlength="6" ng-maxlength="12">
            <p class="help-block"
               ng-show="resetpasswortForm.password.$error.required && resetpasswortForm.password.$dirty">
                Das Feld Passwort muss gefüllt sein.
            </p>
            <p class="help-block"
               ng-show="resetpasswortForm.password.$error.minlength && resetpasswortForm.password.$dirty">
                Passwort muß mindestens 6 Zeichen lang sein.
            </p>
            <p class="help-block"
               ng-show="resetpasswortForm.password.$error.maxlength && resetpasswortForm.password.$dirty">
                Passwort darf maximal 12 Zeichen lang sein.
            </p>
        </div>
            <div class="form-group" ng-class="{ 'has-error' : resetpasswortForm.passwordconfirmation.$invalid && resetpasswortForm.passwordconfirmation.$dirty }">
                <label for="passwordconfirmation">Passwort bestätigen</label>
                <input name="passwordconfirmation" type="password" ng-model="passwordconfirmation" class="form-control" placeholder="Passwort bestätigen" required ng-minlength="6" ng-maxlength="12">
                <p class="help-block"
                   ng-show="resetpasswortForm.passwordconfirmation.$error.required && resetpasswortForm.passwordconfirmation.$dirty">
                    Das Feld Passwort muss gefüllt sein.
                </p>
                <p class="help-block"
                   ng-show="resetpasswortForm.passwordconfirmation.$error.minlength && resetpasswortForm.passwordconfirmation.$dirty">
                    Das Passwort muß mindestens 6 Zeichen lang sein.
                </p>
                <p class="help-block"
                   ng-show="resetpasswortForm.passwordconfirmation.$error.maxlength && resetpasswortForm.passwordconfirmation.$dirty">
                    Das Passwort darf maximal 12 Zeichen lang sein.
                </p>
            </div>
            <button class="btn btn-lg btn-primary" type="submit" ng-disabled="resetpasswortForm.$invalid">Anmelden</button>
        </form>
    </div>
    <p></p>
    <div class="alert alert-danger" ng-show="hasErrors">{{errorText}}</div>

    <script type="text/ng-template" id="resetpasswordModal.html">
        <div class="modal-header">
            <h3 class="modal-title">{{title}}</h3>
        </div>
        <div class="modal-body">
            {{ text }}
        </div>
        <div class="modal-footer center-block">
            <button class="btn btn-primary center-block" ng-click="ok()">OK</button>
        </div>
    </script>
</div>